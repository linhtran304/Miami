<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Graffitis vs.&nbsp;Crimes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="final_solo_files/libs/clipboard/clipboard.min.js"></script>
<script src="final_solo_files/libs/quarto-html/quarto.js"></script>
<script src="final_solo_files/libs/quarto-html/popper.min.js"></script>
<script src="final_solo_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="final_solo_files/libs/quarto-html/anchor.min.js"></script>
<link href="final_solo_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="final_solo_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="final_solo_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="final_solo_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="final_solo_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
</head>
<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="toc-section-number">1</span>  Introduction</a></li>
  <li>
<a href="#important-findings" id="toc-important-findings" class="nav-link" data-scroll-target="#important-findings"><span class="toc-section-number">2</span>  Important Findings</a>
  <ul class="collapse">
<li><a href="#a-quick-glance" id="toc-a-quick-glance" class="nav-link" data-scroll-target="#a-quick-glance"><span class="toc-section-number">2.1</span>  A quick glance</a></li>
  <li><a href="#criminal-damage-crimes-and-other-criminal-crimes" id="toc-criminal-damage-crimes-and-other-criminal-crimes" class="nav-link" data-scroll-target="#criminal-damage-crimes-and-other-criminal-crimes"><span class="toc-section-number">2.2</span>  Criminal Damage Crimes and Other Criminal Crimes</a></li>
  <li><a href="#income-plays-an-important-role" id="toc-income-plays-an-important-role" class="nav-link" data-scroll-target="#income-plays-an-important-role"><span class="toc-section-number">2.3</span>  Income Plays an Important Role</a></li>
  </ul>
</li>
  <li><a href="#key-takeaway" id="toc-key-takeaway" class="nav-link" data-scroll-target="#key-takeaway"><span class="toc-section-number">3</span>  Key Takeaway</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="toc-section-number">4</span>  References</a></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code"><span class="toc-section-number">5</span>  Code</a></li>
  </ul></nav>
</div>
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Graffitis vs.&nbsp;Crimes</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
<p class="subtitle lead">Exploring the relationship between Graffiti Removal and Crime Rates in the City of Chicago</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><section id="introduction" class="level2" data-number="1"><h2 data-number="1" class="anchored" data-anchor-id="introduction">
<span class="header-section-number">1</span> Introduction</h2>
<p>The City of Chicago, with a population of about 2.7 million people, is one of the most popular cities in the United States, known for its vibrant and diverse neighborhoods (Data USA, 2020). However, Chicago has also gained attention for its crime rate, which has been a persistent challenge for the city. The issue of crime in Chicago has been a complex and multifaceted challenge, with various factors contributing to its prevalence. Graffiti has been an agonizing issue in urban areas, posing challenges to cities in terms of aesthetics, safety, and community well-being. As a result, I have conducted an analysis to study the relationship between graffiti removal and the crime rate in the City of Chicago, focusing specifically on criminal crimes and the years from 2016 to 2018 (most recent pre-COVID time to attain an understanding of the situation in normal circumstances).</p>
<p>This report aims to provide insights into the potential linkages between graffiti removal efforts and crime rates in Chicago. By analyzing and interpreting relevant data, we can gain a better understanding of how graffiti removal efforts may impact crime rates and inform strategies for addressing this issue in the city. This report will delve into the data findings, highlighting patterns and trends, and drawing evidence-based conclusions to shed light on the relationship between graffiti removal and crime rate in the City of Chicago.</p>
</section><section id="important-findings" class="level2" data-number="2"><h2 data-number="2" class="anchored" data-anchor-id="important-findings">
<span class="header-section-number">2</span> Important Findings</h2>
<section id="a-quick-glance" class="level3" data-number="2.1"><h3 data-number="2.1" class="anchored" data-anchor-id="a-quick-glance">
<span class="header-section-number">2.1</span> A quick glance</h3>
<p>The graph below is a side-by-side comparison of the crime rate and graffiti removal request rate in 77 community areas of Chicago.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="final_solo_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The graph shows a contrasting relationship between the crime rate and graffiti removal request rate. That is, areas with more crimes tend to have fewer requests (per 100 residents) and vice versa. For example, the south area is one where this relationship is quite pronounced as it has a very high crime rate and a low number of graffiti removal requests. Overall, the relationship is not 100% clear on this map as there are areas where the crime rate and the request rate are both low (e.g.&nbsp;the far north area), but further discovery will be discussed in the sections below.</p>
</section><section id="criminal-damage-crimes-and-other-criminal-crimes" class="level3" data-number="2.2"><h3 data-number="2.2" class="anchored" data-anchor-id="criminal-damage-crimes-and-other-criminal-crimes">
<span class="header-section-number">2.2</span> Criminal Damage Crimes and Other Criminal Crimes</h3>
<p>One may argue that the number of graffiti removal requests in an area would depend on its level of criminal damage crime rate – that is, areas with more vandalism and similar incidents should have more graffiti, hence more removal requests than those with fewer graffiti. In this specific case, however, this is neither entirely true nor wrong.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="final_solo_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This graph illustrates that areas with very high crime rates (either criminal damage or other criminal crimes) still have very few graffiti removal requests. Assuming that the criminal damage crime rate (which includes vandalism) is somewhat representative of graffiti incidents, this would imply that the low number of graffiti requests in high crime-level areas is not because these areas do not have any graffiti to remove, but simply because they do not do so. However, the question remains in the lower crime level areas: there is still a mixture of both high and low numbers of graffiti removal requests in the shaded area (low crime rate) in the graph above and it is shown more clearly in the graph below:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="final_solo_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="income-plays-an-important-role" class="level3" data-number="2.3"><h3 data-number="2.3" class="anchored" data-anchor-id="income-plays-an-important-role">
<span class="header-section-number">2.3</span> Income Plays an Important Role</h3>
<p>One possible explanation for the observation in question above is that areas of higher levels of income generally have lower crime rates, or fewer graffiti vandalism incidents, hence lessening the need to submit a graffiti removal request.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="final_solo_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The inverse relationship between graffiti removal and crime rate is quite clear in areas of low to medium income levels and less so for higher-income areas. Other factors may contribute to this relationship as well that might create some deviation from the main trend, but overall, graffiti removal, to some extent, appears to help with crime reduction.</p>
</section></section><section id="key-takeaway" class="level2" data-number="3"><h2 data-number="3" class="anchored" data-anchor-id="key-takeaway">
<span class="header-section-number">3</span> Key Takeaway</h2>
<p>Graffiti seems to be closely tied to an increase in crime incidents, and removing graffiti is demonstrated to potentially have an impact on reducing the crime rate. One proposed explanation for this phenomenon is the idea of crime as an epidemic, as described by Gladwell (2002):</p>
<blockquote class="blockquote">
<p><em>It says that crime is contagious—just as a fashion trend is contagious—that it can start with a broken window and spread to an entire community. The Tipping Point in this epidemic, though, isn’t a particular kind of person—a Connector like Lois Weisberg or a Maven like Mark Alpert. It’s something physical like graffiti. The impetus to engage in a certain kind of behavior is not coming from a certain kind of person but from a feature of the environment (p.141).</em></p>
</blockquote>
<p>From this theory, it is suggested that the surroundings are crucial in human behavior and decision-making, thus raising the importance of maintaining a clean environment in the battle against crimes, including removing graffiti.</p>
<p>Through this report, I hope to contribute to the ongoing discussions and efforts of city officials, law enforcement agencies, and community organizations in addressing graffiti vandalism and its potential impact on crime rates. By examining the data and providing evidence-based insights, this report aims to provide valuable information that can inform decision-making and support effective strategies to mitigate graffiti vandalism and the overall crime rate in the City of Chicago</p>
</section><section id="references" class="level2" data-number="4"><h2 data-number="4" class="anchored" data-anchor-id="references">
<span class="header-section-number">4</span> References</h2>
<p><em>Chicago, IL</em>. Data USA. (n.d.). Retrieved April 23, 2023, from https://datausa.io/profile/geo/chicago-il</p>
<p>Gladwell, M. (2002). <em>The Tipping Point: How Little Things Can Make A Big Difference</em> (1st Back Bay pbk. ed). Back Bay Books</p>
</section><section id="code" class="level2" data-number="5"><h2 data-number="5" class="anchored" data-anchor-id="code">
<span class="header-section-number">5</span> Code</h2>
<p>This section is solely dedicated to demonstrate the code for data wrangling from the raw data to the one used to create the graphs in this report.</p>
<p>For the code used to generate the graphs or this document in general, see <code>Code &lt;/&gt;</code> on the top of the document.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">## Download the raw data (crime data)</span></span>
<span><span class="va">crime</span> <span class="op">=</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">'https://data.cityofchicago.org/api/views/ijzp-q8t2/rows.csv?accessType=DOWNLOAD'</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Select columns of interest and years 2016-2018</span></span>
<span><span class="va">crime_adj</span> <span class="op">=</span> <span class="va">crime</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Date</span>, <span class="va">`Primary Type`</span>, <span class="va">Description</span>, <span class="va">`Location Description`</span>, <span class="va">`Community Area`</span>, <span class="va">Year</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Year</span> <span class="op">&gt;</span> <span class="fl">2015</span> <span class="op">&amp;</span> <span class="va">Year</span> <span class="op">&lt;</span> <span class="fl">2019</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Focus on only criminal crimes</span></span>
<span><span class="co">## and fix name of type "Crim Sexual Assault"</span></span>
<span><span class="va">criminal</span> <span class="op">=</span> <span class="va">crime_adj</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">`Primary Type`</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"NON - CRIMINAL"</span>, <span class="st">"NON-CRIMINAL"</span>, <span class="st">"NON-CRIMINAL (SUBJECT SPECIFIED)"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>`Primary Type` <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">`Primary Type`</span> <span class="op">==</span> <span class="st">"CRIM SEXUAL ASSAULT"</span>, <span class="st">"CRIMINAL SEXUAL ASSAULT"</span>, <span class="va">`Primary Type`</span><span class="op">)</span>,</span>
<span>         `Community Area` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">`Community Area`</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Download raw data on graffiti removal requests</span></span>
<span><span class="va">graffiti</span> <span class="op">=</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"https://data.cityofchicago.org/api/views/8tus-apua/rows.csv?accessType=DOWNLOAD"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Select columns of interest</span></span>
<span><span class="va">graffiti</span> <span class="op">=</span> <span class="va">graffiti</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">`Creation Date`</span>, <span class="va">Status</span>, <span class="va">`Completion Date`</span>, <span class="va">`Community Area`</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## Demographics data on community areas</span></span>
<span><span class="co">## data available at https://www.cmap.illinois.gov/data/data-hub</span></span>
<span><span class="va">community</span> <span class="op">=</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/cds_202207/cds_202207/ReferenceCCAProfiles20162020.csv"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">GEOID</span>, <span class="va">GEOG</span>, <span class="va">TOT_POP</span>, <span class="va">MED_AGE</span>, <span class="va">UNEMP</span>, <span class="va">NOT_IN_LBFRC</span>, </span>
<span>           <span class="va">LT_HS</span>, <span class="va">HS</span>, <span class="va">SOME_COLL</span>, <span class="va">BACH</span>, <span class="va">GRAD_PROF</span>,</span>
<span>           <span class="va">INC_LT_25K</span>, <span class="va">MEDINC</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>GEOID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">GEOID</span><span class="op">)</span>,</span>
<span>         UNEMP <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">UNEMP</span><span class="op">/</span><span class="va">TOT_POP</span>,</span>
<span>         NOT_IN_LBFRC <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">NOT_IN_LBFRC</span><span class="op">/</span><span class="va">TOT_POP</span>,</span>
<span>         LT_HS <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">LT_HS</span><span class="op">/</span><span class="va">TOT_POP</span>,</span>
<span>         HS <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">HS</span><span class="op">/</span><span class="va">TOT_POP</span>,</span>
<span>         SOME_COLL <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">SOME_COLL</span><span class="op">/</span><span class="va">TOT_POP</span>,</span>
<span>         BACH <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">BACH</span><span class="op">/</span><span class="va">TOT_POP</span>,</span>
<span>         GRAD_PROF <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">GRAD_PROF</span><span class="op">/</span><span class="va">TOT_POP</span>,</span>
<span>         INC_LT_25K <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">INC_LT_25K</span><span class="op">/</span><span class="va">TOT_POP</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Crime by Community Area</span></span>
<span><span class="va">non_dam_crime_rate</span> <span class="op">=</span> <span class="va">criminal</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">`Primary Type`</span> <span class="op">!=</span> <span class="st">"CRIMINAL DAMAGE"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">Year</span>, <span class="va">`Community Area`</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>total_incidents <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">community</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Community Area"</span> <span class="op">=</span> <span class="st">"GEOID"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>crime_rate <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">total_incidents</span><span class="op">/</span><span class="va">TOT_POP</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="fu">across</span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Year</span>,<span class="va">total_incidents</span>, <span class="va">crime_rate</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_non_dam_crime_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">crime_rate</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">crim_dam_rate</span> <span class="op">=</span> <span class="va">criminal</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">`Primary Type`</span> <span class="op">==</span> <span class="st">"CRIMINAL DAMAGE"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">Year</span>, <span class="va">`Community Area`</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>total_incidents <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">community</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Community Area"</span> <span class="op">=</span> <span class="st">"GEOID"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>crime_rate <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">total_incidents</span><span class="op">/</span><span class="va">TOT_POP</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">`Community Area`</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_crim_dam_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">crime_rate</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span><span class="co">## Completed graffiti removal requests by Community Area</span></span>
<span><span class="va">graffiti_summary</span> <span class="op">=</span> <span class="va">graffiti</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>`Creation Date` <span class="op">=</span> <span class="fu">mdy</span><span class="op">(</span><span class="va">`Creation Date`</span><span class="op">)</span>,</span>
<span>         year <span class="op">=</span> <span class="fu">year</span><span class="op">(</span><span class="va">`Creation Date`</span><span class="op">)</span>,</span>
<span>         `Community Area` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">`Community Area`</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&lt;</span> <span class="fl">2019</span> <span class="op">&amp;</span> <span class="va">year</span> <span class="op">&gt;</span> <span class="fl">2015</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">`Community Area`</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>total_requests <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span>,</span>
<span>            completed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Status</span> <span class="op">==</span> <span class="st">"Completed"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Final data used for plotting</span></span>
<span><span class="va">community_crime</span> <span class="op">=</span> <span class="va">non_dam_crime_rate</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">inner_join</span><span class="op">(</span><span class="va">crim_dam_rate</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">inner_join</span><span class="op">(</span><span class="va">graffiti_summary</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>graffiti_requests_per_100 <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">total_requests</span><span class="op">/</span><span class="va">TOT_POP</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!-- -->

</section></main><!-- /main column --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb2" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Graffitis vs. Crimes"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Exploring the relationship between Graffiti Removal and Crime Rates in the City of Chicago"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: false</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-link: true</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">    highlight-style: pygments</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">    paged-df: true</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-float: true</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-overflow: wrap</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co">#| tidy: true</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="do">## Load required packages</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">require</span>(pacman)<span class="sc">==</span>F) <span class="fu">install.packages</span>(<span class="st">'pacman'</span>)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, lubridate, maptools, rgdal, ggthemes, broom, ggfortify, gridExtra, ggpubr, gghighlight)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="do">## Load Data</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"data/community_crime.RData"</span>)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="do">## Some processing</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>community_crime <span class="ot">=</span> community_crime <span class="sc">|&gt;</span> </span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_crime_rate =</span> avg_non_dam_crime_rate <span class="sc">+</span> avg_crim_dam_rate)</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>median_crime_rate <span class="ot">=</span> <span class="fu">median</span>(community_crime<span class="sc">$</span>avg_crime_rate)</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>community_crime <span class="ot">=</span> community_crime <span class="sc">|&gt;</span> </span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">crime_level =</span> <span class="fu">if_else</span>(avg_crime_rate <span class="sc">&lt;=</span> median_crime_rate, <span class="st">"Low"</span>, <span class="st">"High"</span>),</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>         <span class="at">inc_level =</span> <span class="fu">if_else</span>(MEDINC <span class="sc">&lt;=</span> <span class="dv">40000</span>, <span class="st">"Low"</span>,</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">if_else</span>(MEDINC <span class="sc">&lt;=</span> <span class="dv">80000</span>, <span class="st">"Mid"</span>, <span class="st">"High"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>           <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Mid"</span>, <span class="st">"High"</span>)))</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="do">## Map</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>community_area <span class="ot">=</span> <span class="fu">readOGR</span>(<span class="st">"data/community_area/geo_export_3a996a9c-aac7-4e1b-b539-88ee00463388.shp"</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>comm_area <span class="ot">=</span> <span class="fu">tidy</span>(community_area)</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>temp_area <span class="ot">=</span> community_area<span class="sc">@</span>data</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>temp_area <span class="ot">=</span> temp_area <span class="sc">|&gt;</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(area_numbe) <span class="sc">|&gt;</span> </span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> (<span class="dv">0</span><span class="sc">:</span>(<span class="fu">nrow</span>(temp_area)<span class="sc">-</span><span class="dv">1</span>)) <span class="sc">|&gt;</span> <span class="fu">as.character</span>())</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>comm_area <span class="ot">=</span> <span class="fu">left_join</span>(comm_area, temp_area, <span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>comm_map <span class="ot">=</span> <span class="fu">left_join</span>(comm_area, community_crime, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"area_numbe"</span> <span class="ot">=</span> <span class="st">"Community Area"</span>))</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a><span class="do">## Central Business District Boundary</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>central_map <span class="ot">=</span> <span class="fu">readOGR</span>(<span class="st">"data/central_business_dist/geo_export_f6ac6bcc-d2b0-44e2-bb2e-70143a3bef18.shp"</span>)</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>The City of Chicago, with a population of about 2.7 million people, is one of the most popular cities in the United States, known for its vibrant and diverse neighborhoods (Data USA, 2020). However, Chicago has also gained attention for its crime rate, which has been a persistent challenge for the city. The issue of crime in Chicago has been a complex and multifaceted challenge, with various factors contributing to its prevalence. Graffiti has been an agonizing issue in urban areas, posing challenges to cities in terms of aesthetics, safety, and community well-being. As a result, I have conducted an analysis to study the relationship between graffiti removal and the crime rate in the City of Chicago, focusing specifically on criminal crimes and the years from 2016 to 2018 (most recent pre-COVID time to attain an understanding of the situation in normal circumstances).</span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>This report aims to provide insights into the potential linkages between graffiti removal efforts and crime rates in Chicago. By analyzing and interpreting relevant data, we can gain a better understanding of how graffiti removal efforts may impact crime rates and inform strategies for addressing this issue in the city. This report will delve into the data findings, highlighting patterns and trends, and drawing evidence-based conclusions to shed light on the relationship between graffiti removal and crime rate in the City of Chicago.</span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a><span class="fu">## Important Findings</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a><span class="fu">### A quick glance</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>The graph below is a side-by-side comparison of the crime rate and graffiti removal request rate in 77 community areas of Chicago.</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a><span class="co">#| tidy: true</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">=</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data=</span>comm_map, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>long, <span class="at">y=</span>lat, <span class="at">group=</span>group, <span class="at">fill=</span>avg_crime_rate)) <span class="sc">+</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="at">data=</span>comm_map, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>long, <span class="at">y=</span>lat, <span class="at">group=</span>group), <span class="at">color=</span><span class="st">"gray90"</span>,<span class="at">linewidth=</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low=</span><span class="st">"#BBFCF1"</span>, <span class="at">high=</span><span class="st">"#122C69"</span>,</span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>                      <span class="at">name=</span><span class="st">"Reported Incidents</span><span class="sc">\n</span><span class="st">per 100 Residents"</span>,</span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>                      <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">40</span>),</span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>                      <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>)) <span class="sc">+</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="at">data=</span>central_map, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>long, <span class="at">y=</span>lat, <span class="at">group=</span>group), <span class="at">color=</span><span class="st">'grey50'</span>)<span class="sc">+</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_quickmap</span>() <span class="sc">+</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_map</span>() <span class="sc">+</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"curve"</span>, <span class="at">x=</span><span class="sc">-</span><span class="fl">87.61</span>, <span class="at">xend=</span> <span class="sc">-</span><span class="fl">87.58</span>, <span class="at">y=</span><span class="fl">41.9</span>, <span class="at">yend=</span><span class="fl">41.93</span>,</span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>           <span class="at">curvature =</span> <span class="sc">-</span>.<span class="dv">4</span>, <span class="at">arrow=</span><span class="fu">arrow</span>(<span class="at">length=</span><span class="fu">unit</span>(<span class="dv">1</span>,<span class="st">"mm"</span>)), <span class="at">color=</span><span class="st">'grey50'</span>) <span class="sc">+</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"text"</span>,<span class="at">x=</span><span class="sc">-</span><span class="fl">87.549</span>, <span class="at">y=</span><span class="fl">41.937</span>, <span class="at">label =</span> <span class="st">"Central Business</span><span class="sc">\n</span><span class="st">District"</span>,</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">color=</span><span class="st">'grey30'</span>) <span class="sc">+</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"curve"</span>, <span class="at">x=</span><span class="sc">-</span><span class="fl">87.929</span>, <span class="at">xend=</span> <span class="sc">-</span><span class="fl">87.92</span>, <span class="at">y=</span><span class="fl">41.956</span>, <span class="at">yend=</span><span class="fl">41.9417</span>,</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>           <span class="at">curvature =</span> .<span class="dv">3</span>, <span class="at">arrow=</span><span class="fu">arrow</span>(<span class="at">length=</span><span class="fu">unit</span>(<span class="dv">1</span>,<span class="st">"mm"</span>)), <span class="at">color=</span><span class="st">'grey50'</span>) <span class="sc">+</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"text"</span>,<span class="at">x=</span><span class="sc">-</span><span class="fl">87.9</span>, <span class="at">y=</span><span class="fl">41.93</span>, <span class="at">label =</span> <span class="st">"Chicago O'Hare</span><span class="sc">\n</span><span class="st">International Airport"</span>,</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">color=</span><span class="st">'grey30'</span>) <span class="sc">+</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Average Criminal Crime Rate</span><span class="sc">\n</span><span class="st">in 2016-2018 by Community Area in Chicago"</span>) <span class="sc">+</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="fu">c</span>(<span class="fl">0.05</span>,<span class="fl">0.3</span>), </span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">"transparent"</span>),</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>))</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">=</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data=</span>comm_map, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>long, <span class="at">y=</span>lat, <span class="at">group=</span>group, <span class="at">fill=</span>graffiti_requests_per_100)) <span class="sc">+</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="at">data=</span>comm_map, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>long, <span class="at">y=</span>lat, <span class="at">group=</span>group), <span class="at">color=</span><span class="st">"gray90"</span>,<span class="at">linewidth=</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low=</span><span class="st">"#BBFCF1"</span>, <span class="at">high=</span><span class="st">"#122C69"</span>,</span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>                      <span class="at">name=</span><span class="st">"Number of Requests</span><span class="sc">\n</span><span class="st">per 100 Residents"</span>,</span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>                      <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">80</span>),</span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>                      <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">20</span>,<span class="dv">40</span>,<span class="dv">60</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="at">data=</span>central_map, <span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>long, <span class="at">y=</span>lat, <span class="at">group=</span>group), <span class="at">color=</span><span class="st">'grey60'</span>)<span class="sc">+</span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_quickmap</span>() <span class="sc">+</span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_map</span>() <span class="sc">+</span></span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"curve"</span>, <span class="at">x=</span><span class="sc">-</span><span class="fl">87.61</span>, <span class="at">xend=</span> <span class="sc">-</span><span class="fl">87.58</span>, <span class="at">y=</span><span class="fl">41.9</span>, <span class="at">yend=</span><span class="fl">41.93</span>,</span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>           <span class="at">curvature =</span> <span class="sc">-</span>.<span class="dv">4</span>, <span class="at">arrow=</span><span class="fu">arrow</span>(<span class="at">length=</span><span class="fu">unit</span>(<span class="dv">1</span>,<span class="st">"mm"</span>)), <span class="at">color=</span><span class="st">'grey50'</span>) <span class="sc">+</span></span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"text"</span>,<span class="at">x=</span><span class="sc">-</span><span class="fl">87.549</span>, <span class="at">y=</span><span class="fl">41.937</span>, <span class="at">label =</span> <span class="st">"Central Business</span><span class="sc">\n</span><span class="st">District"</span>,</span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">color=</span><span class="st">'grey30'</span>) <span class="sc">+</span></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"curve"</span>, <span class="at">x=</span><span class="sc">-</span><span class="fl">87.929</span>, <span class="at">xend=</span> <span class="sc">-</span><span class="fl">87.92</span>, <span class="at">y=</span><span class="fl">41.956</span>, <span class="at">yend=</span><span class="fl">41.9417</span>,</span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a>           <span class="at">curvature =</span> .<span class="dv">3</span>, <span class="at">arrow=</span><span class="fu">arrow</span>(<span class="at">length=</span><span class="fu">unit</span>(<span class="dv">1</span>,<span class="st">"mm"</span>)), <span class="at">color=</span><span class="st">'grey50'</span>) <span class="sc">+</span></span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"text"</span>,<span class="at">x=</span><span class="sc">-</span><span class="fl">87.9</span>, <span class="at">y=</span><span class="fl">41.93</span>, <span class="at">label =</span> <span class="st">"Chicago O'Hare</span><span class="sc">\n</span><span class="st">International Airport"</span>,</span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">color=</span><span class="st">'grey30'</span>) <span class="sc">+</span></span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Average Rate of Graffiti Removal Requests</span><span class="sc">\n</span><span class="st">in 2016-2018 by Community Area in Chicago"</span>)<span class="sc">+</span></span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="fu">c</span>(<span class="fl">0.05</span>,<span class="fl">0.3</span>), <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">"transparent"</span>),</span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>))</span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">nrow=</span><span class="dv">1</span>,</span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>             <span class="at">bottom=</span><span class="fu">text_grob</span>(<span class="st">"Source: Chicago Data Portal &amp; Chicago Metropolitan Agency for Planning"</span>,</span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>                              <span class="at">size=</span><span class="dv">12</span>))</span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a>The graph shows a contrasting relationship between the crime rate and graffiti removal request rate. That is, areas with more crimes tend to have fewer requests (per 100 residents) and vice versa. For example, the south area is one where this relationship is quite pronounced as it has a very high crime rate and a low number of graffiti removal requests. Overall, the relationship is not 100% clear on this map as there are areas where the crime rate and the request rate are both low (e.g. the far north area), but further discovery will be discussed in the sections below.</span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a><span class="fu">### Criminal Damage Crimes and Other Criminal Crimes</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a>One may argue that the number of graffiti removal requests in an area would depend on its level of criminal damage crime rate -- that is, areas with more vandalism and similar incidents should have more graffiti, hence more removal requests than those with fewer graffiti. In this specific case, however, this is neither entirely true nor wrong.</span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a><span class="co">#| tidy: true</span></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a>community_crime_adj <span class="ot">=</span> community_crime <span class="sc">|&gt;</span> </span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(graffiti_requests_per_100)</span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(community_crime_adj, <span class="fu">aes</span>(<span class="at">x=</span>avg_crim_dam_rate, <span class="at">y=</span>avg_non_dam_crime_rate, <span class="at">color=</span>graffiti_requests_per_100)) <span class="sc">+</span></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="fl">3.5</span>, <span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>(<span class="st">"Number of Requests</span><span class="sc">\n</span><span class="st">per 100 Residents"</span>,</span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a>                       <span class="at">low=</span><span class="st">"#D2ECED"</span>, <span class="at">high=</span><span class="st">"#388B8D"</span>,</span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>                       <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">80</span>),</span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>                       <span class="at">breaks=</span>scales<span class="sc">::</span><span class="fu">pretty_breaks</span>(<span class="at">n=</span><span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span>scales<span class="sc">::</span><span class="fu">pretty_breaks</span>(<span class="at">n=</span><span class="dv">6</span>),</span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limit=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">40</span>))<span class="sc">+</span></span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limit=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_colourbar</span>(<span class="at">direction =</span> <span class="st">"horizontal"</span>, <span class="at">reverse =</span> T)) <span class="sc">+</span></span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.8</span>,<span class="dv">1</span>),</span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">9</span>, <span class="at">vjust=</span><span class="fl">1.05</span>, <span class="at">color=</span><span class="st">'grey40'</span>),</span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey40'</span>),</span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey30'</span>, <span class="at">size=</span><span class="dv">11</span>),</span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey20'</span>),</span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey30'</span>)) <span class="sc">+</span></span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Criminal Damage Crimes Rate vs. Other Crimes Rate</span><span class="sc">\n</span><span class="st">by Community Area in Chicago 2016-2018"</span>,</span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">"Areas with higher criminal damage crime rate tend to also have higher rate</span><span class="sc">\n</span><span class="st">for other crimes. Areas with the most number of graffiti removal requests</span><span class="sc">\n</span><span class="st">are those of lower crime rates."</span>,</span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption=</span><span class="st">"Source: Chicago Data Portal &amp; Chicago Metropolitan Agency for Planning"</span>,</span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">"Average Rate of Criminal Damage Crimes (%)"</span>,</span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Average Rate of Other Criminal Crimes (%)"</span>)<span class="sc">+</span></span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">xmin=</span><span class="fl">0.2</span>, <span class="at">xmax=</span><span class="fl">1.5</span>, <span class="at">ymin=</span><span class="fl">0.2</span>, <span class="at">ymax=</span><span class="dv">15</span>, <span class="at">alpha=</span><span class="fl">0.07</span>)</span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a>This graph illustrates that areas with very high crime rates (either criminal damage or other criminal crimes) still have very few graffiti removal requests. Assuming that the criminal damage crime rate (which includes vandalism) is somewhat representative of graffiti incidents, this would imply that the low number of graffiti requests in high crime-level areas is not because these areas do not have any graffiti to remove, but simply because they do not do so. However, the question remains in the lower crime level areas: there is still a mixture of both high and low numbers of graffiti removal requests in the shaded area (low crime rate) in the graph above and it is shown more clearly in the graph below:</span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-188"><a href="#cb2-188" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-189"><a href="#cb2-189" aria-hidden="true" tabindex="-1"></a><span class="co">#| tidy: true</span></span>
<span id="cb2-190"><a href="#cb2-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-191"><a href="#cb2-191" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(community_crime, <span class="fu">aes</span>(<span class="at">x=</span>graffiti_requests_per_100, <span class="at">fill=</span>crime_level))<span class="sc">+</span></span>
<span id="cb2-192"><a href="#cb2-192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha=</span><span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.8</span>, <span class="fl">0.8</span>),</span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey40'</span>),</span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey40'</span>, <span class="at">size=</span><span class="dv">10</span>),</span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey30'</span>, <span class="at">size=</span><span class="dv">11</span>),</span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey30'</span>)) <span class="sc">+</span></span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Number of Graffiti Removal Requests</span><span class="sc">\n</span><span class="st">per 100 Residents"</span>,</span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill=</span><span class="st">"Crime Level"</span>,</span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption=</span><span class="st">"Source: Chicago Data Portal &amp; Chicago Metropolitan Agency for Planning"</span>) <span class="sc">+</span></span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"text"</span>, <span class="at">x=</span><span class="dv">20</span>, <span class="at">y=</span><span class="fl">0.06</span>, <span class="at">size =</span> <span class="dv">4</span>,<span class="at">color=</span><span class="st">'grey40'</span>,</span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>           <span class="at">label=</span><span class="st">"Low crime level areas generally have more requests,</span><span class="sc">\n</span><span class="st">except for these areas, where they have</span><span class="sc">\n</span><span class="st">few requests yet low crime rates"</span>, <span class="at">hjust=</span><span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">xmin=</span><span class="dv">0</span>, <span class="at">xmax=</span><span class="dv">15</span>, <span class="at">ymin=</span><span class="dv">0</span>, <span class="at">ymax=</span><span class="fl">0.04</span>, <span class="at">alpha=</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom=</span><span class="st">"curve"</span>, <span class="at">x=</span><span class="dv">18</span>, <span class="at">xend=</span> <span class="dv">11</span>, <span class="at">y=</span><span class="fl">0.06</span>, <span class="at">yend=</span><span class="fl">0.045</span>,</span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a>           <span class="at">curvature =</span> .<span class="dv">3</span>, <span class="at">arrow=</span><span class="fu">arrow</span>(<span class="at">length=</span><span class="fu">unit</span>(<span class="dv">1</span>,<span class="st">"mm"</span>)), <span class="at">color=</span><span class="st">'grey60'</span>)</span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-210"><a href="#cb2-210" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-211"><a href="#cb2-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-212"><a href="#cb2-212" aria-hidden="true" tabindex="-1"></a><span class="fu">### Income Plays an Important Role</span></span>
<span id="cb2-213"><a href="#cb2-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-214"><a href="#cb2-214" aria-hidden="true" tabindex="-1"></a>One possible explanation for the observation in question above is that areas of higher levels of income generally have lower crime rates, or fewer graffiti vandalism incidents, hence lessening the need to submit a graffiti removal request.</span>
<span id="cb2-215"><a href="#cb2-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-218"><a href="#cb2-218" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-219"><a href="#cb2-219" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb2-220"><a href="#cb2-220" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-221"><a href="#cb2-221" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-222"><a href="#cb2-222" aria-hidden="true" tabindex="-1"></a><span class="co">#| tidy: true</span></span>
<span id="cb2-223"><a href="#cb2-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-224"><a href="#cb2-224" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(community_crime, <span class="fu">aes</span>(<span class="at">x=</span>graffiti_requests_per_100, <span class="at">y=</span>avg_crime_rate, <span class="at">color=</span>inc_level)) <span class="sc">+</span></span>
<span id="cb2-225"><a href="#cb2-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb2-226"><a href="#cb2-226" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb2-227"><a href="#cb2-227" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gghighlight</span>(<span class="at">unhighlighted_params =</span> <span class="fu">list</span>(<span class="at">alpha=</span><span class="fl">0.3</span>)) <span class="sc">+</span> </span>
<span id="cb2-228"><a href="#cb2-228" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(inc_level)) <span class="sc">+</span></span>
<span id="cb2-229"><a href="#cb2-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#94D6D6"</span>, <span class="st">"#44B3B2"</span>, <span class="st">"#2E7878"</span>)) <span class="sc">+</span></span>
<span id="cb2-230"><a href="#cb2-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Number of Graffiti Removal Requests</span><span class="sc">\n</span><span class="st">per 100 Residents"</span>,</span>
<span id="cb2-231"><a href="#cb2-231" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Average Overall Crime Rate (%)"</span>,</span>
<span id="cb2-232"><a href="#cb2-232" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption=</span><span class="st">"Source: Chicago Data Portal &amp; Chicago Metropolitan Agency for Planning"</span>,</span>
<span id="cb2-233"><a href="#cb2-233" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Effect of Income on the Relationship between</span><span class="sc">\n</span><span class="st">Graffiti Removal and Average Crime Rate"</span>,</span>
<span id="cb2-234"><a href="#cb2-234" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"The relationship is more pronounced in areas wherein income is low to medium.</span><span class="sc">\n</span><span class="st">Wealthy areas typically have lower crime rate, thus fewer graffiti to remove"</span>)<span class="sc">+</span></span>
<span id="cb2-235"><a href="#cb2-235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey30'</span>, <span class="at">size=</span><span class="dv">10</span>),</span>
<span id="cb2-236"><a href="#cb2-236" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey20'</span>),</span>
<span id="cb2-237"><a href="#cb2-237" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">'grey30'</span>))</span>
<span id="cb2-238"><a href="#cb2-238" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-239"><a href="#cb2-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-240"><a href="#cb2-240" aria-hidden="true" tabindex="-1"></a>The inverse relationship between graffiti removal and crime rate is quite clear in areas of low to medium income levels and less so for higher-income areas. Other factors may contribute to this relationship as well that might create some deviation from the main trend, but overall, graffiti removal, to some extent, appears to help with crime reduction.</span>
<span id="cb2-241"><a href="#cb2-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-242"><a href="#cb2-242" aria-hidden="true" tabindex="-1"></a><span class="fu">## Key Takeaway</span></span>
<span id="cb2-243"><a href="#cb2-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-244"><a href="#cb2-244" aria-hidden="true" tabindex="-1"></a>Graffiti seems to be closely tied to an increase in crime incidents, and removing graffiti is demonstrated to potentially have an impact on reducing the crime rate. One proposed explanation for this phenomenon is the idea of crime as an epidemic, as described by Gladwell (2002):</span>
<span id="cb2-245"><a href="#cb2-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-246"><a href="#cb2-246" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; *It says that crime is contagious---just as a fashion trend is contagious---that it can start with a broken window and spread to an entire community. The Tipping Point in this epidemic, though, isn't a particular kind of person---a Connector like Lois Weisberg or a Maven like Mark Alpert. It's something physical like graffiti. The impetus to engage in a certain kind of behavior is not coming from a certain kind of person but from a feature of the environment (p.141).*</span></span>
<span id="cb2-247"><a href="#cb2-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-248"><a href="#cb2-248" aria-hidden="true" tabindex="-1"></a>From this theory, it is suggested that the surroundings are crucial in human behavior and decision-making, thus raising the importance of maintaining a clean environment in the battle against crimes, including removing graffiti.</span>
<span id="cb2-249"><a href="#cb2-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-250"><a href="#cb2-250" aria-hidden="true" tabindex="-1"></a>Through this report, I hope to contribute to the ongoing discussions and efforts of city officials, law enforcement agencies, and community organizations in addressing graffiti vandalism and its potential impact on crime rates. By examining the data and providing evidence-based insights, this report aims to provide valuable information that can inform decision-making and support effective strategies to mitigate graffiti vandalism and the overall crime rate in the City of Chicago</span>
<span id="cb2-251"><a href="#cb2-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-252"><a href="#cb2-252" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
<span id="cb2-253"><a href="#cb2-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-254"><a href="#cb2-254" aria-hidden="true" tabindex="-1"></a>*Chicago, IL*. Data USA. (n.d.). Retrieved April 23, 2023, from https://datausa.io/profile/geo/chicago-il</span>
<span id="cb2-255"><a href="#cb2-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-256"><a href="#cb2-256" aria-hidden="true" tabindex="-1"></a>Gladwell, M. (2002). *The Tipping Point: How Little Things Can Make A Big Difference* (1st Back Bay pbk. ed). Back Bay Books</span>
<span id="cb2-257"><a href="#cb2-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-258"><a href="#cb2-258" aria-hidden="true" tabindex="-1"></a><span class="fu">## Code</span></span>
<span id="cb2-259"><a href="#cb2-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-260"><a href="#cb2-260" aria-hidden="true" tabindex="-1"></a>This section is solely dedicated to demonstrate the code for data wrangling from the raw data to the one used to create the graphs in this report.</span>
<span id="cb2-261"><a href="#cb2-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-262"><a href="#cb2-262" aria-hidden="true" tabindex="-1"></a>For the code used to generate the graphs or this document in general, see <span class="in">`Code &lt;/&gt;`</span> on the top of the document.</span>
<span id="cb2-263"><a href="#cb2-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-264"><a href="#cb2-264" aria-hidden="true" tabindex="-1"></a><span class="in">``` r</span></span>
<span id="cb2-265"><a href="#cb2-265" aria-hidden="true" tabindex="-1"></a><span class="do">## Download the raw data (crime data)</span></span>
<span id="cb2-266"><a href="#cb2-266" aria-hidden="true" tabindex="-1"></a>crime <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">'https://data.cityofchicago.org/api/views/ijzp-q8t2/rows.csv?accessType=DOWNLOAD'</span>)</span>
<span id="cb2-267"><a href="#cb2-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-268"><a href="#cb2-268" aria-hidden="true" tabindex="-1"></a><span class="do">## Select columns of interest and years 2016-2018</span></span>
<span id="cb2-269"><a href="#cb2-269" aria-hidden="true" tabindex="-1"></a>crime_adj <span class="ot">=</span> crime <span class="sc">|&gt;</span> </span>
<span id="cb2-270"><a href="#cb2-270" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(ID, Date, <span class="st">`</span><span class="at">Primary Type</span><span class="st">`</span>, Description, <span class="st">`</span><span class="at">Location Description</span><span class="st">`</span>, <span class="st">`</span><span class="at">Community Area</span><span class="st">`</span>, Year)) <span class="sc">|&gt;</span> </span>
<span id="cb2-271"><a href="#cb2-271" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2015</span> <span class="sc">&amp;</span> Year <span class="sc">&lt;</span> <span class="dv">2019</span>)</span>
<span id="cb2-272"><a href="#cb2-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-273"><a href="#cb2-273" aria-hidden="true" tabindex="-1"></a><span class="do">## Focus on only criminal crimes</span></span>
<span id="cb2-274"><a href="#cb2-274" aria-hidden="true" tabindex="-1"></a><span class="do">## and fix name of type "Crim Sexual Assault"</span></span>
<span id="cb2-275"><a href="#cb2-275" aria-hidden="true" tabindex="-1"></a>criminal <span class="ot">=</span> crime_adj <span class="sc">|&gt;</span> </span>
<span id="cb2-276"><a href="#cb2-276" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="st">`</span><span class="at">Primary Type</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"NON - CRIMINAL"</span>, <span class="st">"NON-CRIMINAL"</span>, <span class="st">"NON-CRIMINAL (SUBJECT SPECIFIED)"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-277"><a href="#cb2-277" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Primary Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">if_else</span>(<span class="st">`</span><span class="at">Primary Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"CRIM SEXUAL ASSAULT"</span>, <span class="st">"CRIMINAL SEXUAL ASSAULT"</span>, <span class="st">`</span><span class="at">Primary Type</span><span class="st">`</span>),</span>
<span id="cb2-278"><a href="#cb2-278" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Community Area</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.character</span>(<span class="st">`</span><span class="at">Community Area</span><span class="st">`</span>))</span>
<span id="cb2-279"><a href="#cb2-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-280"><a href="#cb2-280" aria-hidden="true" tabindex="-1"></a><span class="do">## Download raw data on graffiti removal requests</span></span>
<span id="cb2-281"><a href="#cb2-281" aria-hidden="true" tabindex="-1"></a>graffiti <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"https://data.cityofchicago.org/api/views/8tus-apua/rows.csv?accessType=DOWNLOAD"</span>)</span>
<span id="cb2-282"><a href="#cb2-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-283"><a href="#cb2-283" aria-hidden="true" tabindex="-1"></a><span class="do">## Select columns of interest</span></span>
<span id="cb2-284"><a href="#cb2-284" aria-hidden="true" tabindex="-1"></a>graffiti <span class="ot">=</span> graffiti <span class="sc">|&gt;</span> </span>
<span id="cb2-285"><a href="#cb2-285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">`</span><span class="at">Creation Date</span><span class="st">`</span>, Status, <span class="st">`</span><span class="at">Completion Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Community Area</span><span class="st">`</span>))</span>
<span id="cb2-286"><a href="#cb2-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-287"><a href="#cb2-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-288"><a href="#cb2-288" aria-hidden="true" tabindex="-1"></a><span class="do">## Demographics data on community areas</span></span>
<span id="cb2-289"><a href="#cb2-289" aria-hidden="true" tabindex="-1"></a><span class="do">## data available at https://www.cmap.illinois.gov/data/data-hub</span></span>
<span id="cb2-290"><a href="#cb2-290" aria-hidden="true" tabindex="-1"></a>community <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"data/cds_202207/cds_202207/ReferenceCCAProfiles20162020.csv"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-291"><a href="#cb2-291" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(GEOID, GEOG, TOT_POP, MED_AGE, UNEMP, NOT_IN_LBFRC, </span>
<span id="cb2-292"><a href="#cb2-292" aria-hidden="true" tabindex="-1"></a>           LT_HS, HS, SOME_COLL, BACH, GRAD_PROF,</span>
<span id="cb2-293"><a href="#cb2-293" aria-hidden="true" tabindex="-1"></a>           INC_LT_25K, MEDINC)) <span class="sc">|&gt;</span> </span>
<span id="cb2-294"><a href="#cb2-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">GEOID =</span> <span class="fu">as.character</span>(GEOID),</span>
<span id="cb2-295"><a href="#cb2-295" aria-hidden="true" tabindex="-1"></a>         <span class="at">UNEMP =</span> <span class="dv">100</span><span class="sc">*</span>UNEMP<span class="sc">/</span>TOT_POP,</span>
<span id="cb2-296"><a href="#cb2-296" aria-hidden="true" tabindex="-1"></a>         <span class="at">NOT_IN_LBFRC =</span> <span class="dv">100</span><span class="sc">*</span>NOT_IN_LBFRC<span class="sc">/</span>TOT_POP,</span>
<span id="cb2-297"><a href="#cb2-297" aria-hidden="true" tabindex="-1"></a>         <span class="at">LT_HS =</span> <span class="dv">100</span><span class="sc">*</span>LT_HS<span class="sc">/</span>TOT_POP,</span>
<span id="cb2-298"><a href="#cb2-298" aria-hidden="true" tabindex="-1"></a>         <span class="at">HS =</span> <span class="dv">100</span><span class="sc">*</span>HS<span class="sc">/</span>TOT_POP,</span>
<span id="cb2-299"><a href="#cb2-299" aria-hidden="true" tabindex="-1"></a>         <span class="at">SOME_COLL =</span> <span class="dv">100</span><span class="sc">*</span>SOME_COLL<span class="sc">/</span>TOT_POP,</span>
<span id="cb2-300"><a href="#cb2-300" aria-hidden="true" tabindex="-1"></a>         <span class="at">BACH =</span> <span class="dv">100</span><span class="sc">*</span>BACH<span class="sc">/</span>TOT_POP,</span>
<span id="cb2-301"><a href="#cb2-301" aria-hidden="true" tabindex="-1"></a>         <span class="at">GRAD_PROF =</span> <span class="dv">100</span><span class="sc">*</span>GRAD_PROF<span class="sc">/</span>TOT_POP,</span>
<span id="cb2-302"><a href="#cb2-302" aria-hidden="true" tabindex="-1"></a>         <span class="at">INC_LT_25K =</span> <span class="dv">100</span><span class="sc">*</span>INC_LT_25K<span class="sc">/</span>TOT_POP)</span>
<span id="cb2-303"><a href="#cb2-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-304"><a href="#cb2-304" aria-hidden="true" tabindex="-1"></a><span class="do">## Crime by Community Area</span></span>
<span id="cb2-305"><a href="#cb2-305" aria-hidden="true" tabindex="-1"></a>non_dam_crime_rate <span class="ot">=</span> criminal <span class="sc">|&gt;</span> </span>
<span id="cb2-306"><a href="#cb2-306" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Primary Type</span><span class="st">`</span> <span class="sc">!=</span> <span class="st">"CRIMINAL DAMAGE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-307"><a href="#cb2-307" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, <span class="st">`</span><span class="at">Community Area</span><span class="st">`</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-308"><a href="#cb2-308" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_incidents =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb2-309"><a href="#cb2-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb2-310"><a href="#cb2-310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(community, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"Community Area"</span> <span class="ot">=</span> <span class="st">"GEOID"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-311"><a href="#cb2-311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">crime_rate =</span> <span class="dv">100</span><span class="sc">*</span>total_incidents<span class="sc">/</span>TOT_POP) <span class="sc">|&gt;</span> </span>
<span id="cb2-312"><a href="#cb2-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">across</span>(<span class="sc">-</span><span class="fu">c</span>(Year,total_incidents, crime_rate))) <span class="sc">|&gt;</span> </span>
<span id="cb2-313"><a href="#cb2-313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_non_dam_crime_rate =</span> <span class="fu">mean</span>(crime_rate))</span>
<span id="cb2-314"><a href="#cb2-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-315"><a href="#cb2-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-316"><a href="#cb2-316" aria-hidden="true" tabindex="-1"></a>crim_dam_rate <span class="ot">=</span> criminal <span class="sc">|&gt;</span> </span>
<span id="cb2-317"><a href="#cb2-317" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Primary Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"CRIMINAL DAMAGE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-318"><a href="#cb2-318" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, <span class="st">`</span><span class="at">Community Area</span><span class="st">`</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-319"><a href="#cb2-319" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_incidents =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb2-320"><a href="#cb2-320" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb2-321"><a href="#cb2-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(community, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"Community Area"</span> <span class="ot">=</span> <span class="st">"GEOID"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-322"><a href="#cb2-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">crime_rate =</span> <span class="dv">100</span><span class="sc">*</span>total_incidents<span class="sc">/</span>TOT_POP) <span class="sc">|&gt;</span> </span>
<span id="cb2-323"><a href="#cb2-323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Community Area</span><span class="st">`</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-324"><a href="#cb2-324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_crim_dam_rate =</span> <span class="fu">mean</span>(crime_rate))</span>
<span id="cb2-325"><a href="#cb2-325" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-326"><a href="#cb2-326" aria-hidden="true" tabindex="-1"></a><span class="do">## Completed graffiti removal requests by Community Area</span></span>
<span id="cb2-327"><a href="#cb2-327" aria-hidden="true" tabindex="-1"></a>graffiti_summary <span class="ot">=</span> graffiti <span class="sc">|&gt;</span> </span>
<span id="cb2-328"><a href="#cb2-328" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Creation Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mdy</span>(<span class="st">`</span><span class="at">Creation Date</span><span class="st">`</span>),</span>
<span id="cb2-329"><a href="#cb2-329" aria-hidden="true" tabindex="-1"></a>         <span class="at">year =</span> <span class="fu">year</span>(<span class="st">`</span><span class="at">Creation Date</span><span class="st">`</span>),</span>
<span id="cb2-330"><a href="#cb2-330" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Community Area</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.character</span>(<span class="st">`</span><span class="at">Community Area</span><span class="st">`</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-331"><a href="#cb2-331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&lt;</span> <span class="dv">2019</span> <span class="sc">&amp;</span> year <span class="sc">&gt;</span> <span class="dv">2015</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-332"><a href="#cb2-332" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Community Area</span><span class="st">`</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-333"><a href="#cb2-333" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_requests =</span> <span class="fu">n</span>(),</span>
<span id="cb2-334"><a href="#cb2-334" aria-hidden="true" tabindex="-1"></a>            <span class="at">completed =</span> <span class="fu">sum</span>(Status <span class="sc">==</span> <span class="st">"Completed"</span>))</span>
<span id="cb2-335"><a href="#cb2-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-336"><a href="#cb2-336" aria-hidden="true" tabindex="-1"></a><span class="do">## Final data used for plotting</span></span>
<span id="cb2-337"><a href="#cb2-337" aria-hidden="true" tabindex="-1"></a>community_crime <span class="ot">=</span> non_dam_crime_rate <span class="sc">|&gt;</span> </span>
<span id="cb2-338"><a href="#cb2-338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(crim_dam_rate) <span class="sc">|&gt;</span> </span>
<span id="cb2-339"><a href="#cb2-339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(graffiti_summary) <span class="sc">|&gt;</span> </span>
<span id="cb2-340"><a href="#cb2-340" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">graffiti_requests_per_100 =</span> <span class="dv">100</span><span class="sc">*</span>total_requests<span class="sc">/</span>TOT_POP)</span>
<span id="cb2-341"><a href="#cb2-341" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>